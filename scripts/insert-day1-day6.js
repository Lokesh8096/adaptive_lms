
const { createClient } = require('@supabase/supabase-js');
const fs = require('fs');
const path = require('path');
const crypto = require('crypto');

// ---------- Load .env ----------
const dotenvPath = path.resolve(__dirname, '..', '.env');
if (fs.existsSync(dotenvPath)) {
    for (const line of fs.readFileSync(dotenvPath, 'utf-8').split(/\r?\n/)) {
        const t = line.trim();
        if (!t || t.startsWith('#')) continue;
        const eq = t.indexOf('=');
        if (eq < 0) continue;
        const k = t.slice(0, eq).trim();
        const v = t.slice(eq + 1).trim();
        if (!process.env[k]) process.env[k] = v;
    }
}

const supabase = createClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL,
    process.env.SUPABASE_SERVICE_ROLE_KEY,
    { auth: { autoRefreshToken: false, persistSession: false } }
);

function deterministicId(seed) {
    const hex = crypto.createHash('sha256').update(seed).digest('hex').slice(0, 32);
    return [hex.slice(0, 8), hex.slice(8, 12), hex.slice(12, 16), hex.slice(16, 20), hex.slice(20, 32)].join('-');
}

// â”€â”€â”€ DAY 1 DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const day1 = [
    // SCENARIOS
    { origId: '3d2d4f9a-8c31-4b5a-9c0d-1a3f6c2b8e11', day_number: 1, type: 'scenario', num: 1, prompt: 'A new app idea feels cool but unclear. How would you quickly check if it solves a real problem using a tech-builder mindset?', answer: 'Start by naming one real-world friction the app removes.\n\nThen describe who faces the problem, when it happens, and what "faster/easier" looks like after the solution.\n\nIn product teams, this keeps development focused on impact instead of features.\n\nExample:\n"People waste time deciding food; the app helps them discover and order quickly."', difficulty: 'easy' },
    { origId: 'a7f1f0b2-2f4a-4d0c-8d31-5f7f3a2c9b22', day_number: 1, type: 'scenario', num: 2, prompt: "You're asked to explain how a food delivery app reduces friction for users. What points would you cover?", answer: 'Explain the two core problems it solves: discovering options and getting reliable delivery.\n\nConnect the solution to speed and convenience: search, restaurant cards, menus, and delivery tracking.\n\nIn real products, friction reduction is the main reason users keep returning.\n\nExample:\n"Search restaurants, choose a dish, pay once, and get it delivered."', difficulty: 'easy' },
    { origId: 'c9c8cdb7-1d0e-4f1b-ae6b-0b5b1a2c3d33', day_number: 1, type: 'scenario', num: 3, prompt: 'A teammate says, "Technology is just coding." How would you correct them using today\'s concepts?', answer: 'Clarify that technology is structured problem-solving using tools and systems.\n\nIt includes identifying the problem, designing a solution, building a system that can grow, and improving it over time.\n\nIn companies, coding is one part, but problem definition and iteration drive success.\n\nExample:\n"Even before code, we define the problem and design how the app should work."', difficulty: 'easy' },
    { origId: '0b2b7f8d-6f3e-4c1a-9f3b-8f6a1d2c4e44', day_number: 1, type: 'scenario', num: 4, prompt: 'A user searches "biryani" and gets results instantly. What high-level flow would you describe from UI to data?', answer: 'Start with the frontend capturing the search input.\n\nThen the backend receives the request, looks up restaurant/menu data from storage, and returns matching results.\n\nFast responses matter in real apps because slow search increases drop-offs.\n\nExample:\n"UI sends search â†’ backend fetches data â†’ returns a ranked list to show."', difficulty: 'medium' },
    { origId: '5f5c1d3a-1d7a-4d1f-8f4e-2c9a7b8d5f55', day_number: 1, type: 'scenario', num: 5, prompt: 'A user asks, "Where does the restaurant list come from?" How would you explain it using frontend vs backend roles?', answer: 'Explain that the frontend displays the list as cards and UI elements.\n\nThe backend stores restaurant details like name, rating, menu, and availability and provides it through APIs.\n\nIn production, separating display and data keeps systems maintainable.\n\nExample:\n"Frontend shows cards; backend provides the restaurant data to render them."', difficulty: 'medium' },
    { origId: 'f2a9d0c1-9a3d-4a2a-8d7c-6e1b2c3d4f66', day_number: 1, type: 'scenario', num: 6, prompt: 'Your app needs "delivery near me." Which technology concept from today helps here, and how?', answer: 'Use GPS to understand the user\'s location.\n\nThen the system can show nearby restaurants and help with delivery routing.\n\nLocation-based relevance improves user experience in real food apps.\n\nExample:\n"GPS gives location so the app can show restaurants around that area."', difficulty: 'medium' },
    { origId: '7a6e2b1c-3d4f-4b2a-9c8d-1e2f3a4b5c77', day_number: 1, type: 'scenario', num: 7, prompt: 'A product manager wants "recommended restaurants" on the home screen. How would you describe what AI/ML is doing at a high level?', answer: 'Explain that AI/ML looks at user behavior patterns like clicks, orders, and preferences.\n\nIt predicts what the user might like and suggests restaurants or dishes.\n\nIn apps, this improves discovery and increases engagement.\n\nExample:\n"If you often order dosa, the app may recommend similar breakfast places."', difficulty: 'medium' },
    { origId: '1c4f8a2d-6b3a-4f9c-8d21-9a8b7c6d5e88', day_number: 1, type: 'scenario', num: 8, prompt: 'You notice users complain the app feels outdated over time. What "continuous improvement" approach would you propose based on today\'s lesson?', answer: 'Treat the app as something that improves continuously, not a one-time build.\n\nCollect feedback or usage signals, identify friction, and update features or recommendations.\n\nIn real companies, iteration keeps the product competitive.\n\nExample:\n"Track what users search but don\'t order, then improve discovery and ranking."', difficulty: 'hard' },
    { origId: '9d3a7c2b-1f2e-4b6a-8c9d-3e4f5a6b7c99', day_number: 1, type: 'scenario', num: 9, prompt: 'A teammate mixed up responsibilities and put business data inside the UI code only. How would you explain why separating layers helps scalability?', answer: 'Explain that frontend should focus on displaying and collecting user actions.\n\nBackend should store and manage data so it can be reused by many screens and users.\n\nIn scalable systems, clean separation makes updates safer and faster.\n\nExample:\n"Changing restaurant availability should happen in backend data, not hardcoded UI."', difficulty: 'hard' },
    { origId: '2b6c8d1e-9f4a-4c3b-8a7d-0e1f2a3b4c10', day_number: 1, type: 'scenario', num: 10, prompt: "You're asked to explain the full architecture of a food delivery app to a beginner using only today's layers. How would you do it?", answer: 'Describe three layers: frontend, backend, and AI/ML.\n\nFrontend shows cards, filters, ratings, images, and search UI.\n\nBackend stores restaurants, menus, availability, and answers search requests.\n\nAI/ML learns from behavior to recommend and rank better.\n\nExample:\n"Frontend shows results, backend provides data, AI helps personalize suggestions."', difficulty: 'hard' },

    // INTERVIEWS
    { origId: '6a8b9c1d-2e3f-4a5b-8c7d-1e2f3a4b5c11', day_number: 1, type: 'interview', num: 1, prompt: 'Walk me through how you think about an app as a problem-solver rather than as a set of screens.', answer: 'Start from the real-world problem and define the user friction.\n\nThen map how the app makes the task faster, easier, and more reliable.\n\nIn interviews, this shows you can connect features to user value.\n\nExample:\n"Food delivery reduces time spent searching and makes delivery dependable."', difficulty: 'easy' },
    { origId: 'b1c2d3e4-5f6a-4b7c-8d9e-0f1a2b3c4d12', day_number: 1, type: 'interview', num: 2, prompt: 'How would you explain "data movement" in a simple app like food delivery?', answer: 'Describe that user actions on the frontend create requests.\n\nBackend receives requests, reads or updates stored data, then responds.\n\nThis is the basic pattern behind search, menus, and orders.\n\nExample:\n"Tap search â†’ backend fetches matching restaurants â†’ UI displays them."', difficulty: 'easy' },
    { origId: 'c3d4e5f6-1a2b-4c3d-8e9f-1a2b3c4d5e13', day_number: 1, type: 'interview', num: 3, prompt: 'If a user asks why the app can respond instantly, what would you say at a high level?', answer: 'Explain that systems are designed to fetch and return data quickly.\n\nRequests are handled step-by-step, and the UI updates as soon as results arrive.\n\nIn real apps, speed directly affects user trust and conversions.\n\nExample:\n"Search results appear fast because the backend returns matching data quickly."', difficulty: 'easy' },
    { origId: 'd4e5f6a7-2b3c-4d5e-8f9a-2b3c4d5e6f14', day_number: 1, type: 'interview', num: 4, prompt: 'How do you differentiate frontend and backend responsibilities using the food app example?', answer: 'Frontend handles presentation: cards, filters, images, ratings, and interaction.\n\nBackend handles data and logic: storing restaurants/menus and processing search requests via APIs.\n\nClear separation reduces confusion and makes teams work faster.\n\nExample:\n"Frontend shows the menu; backend stores the menu and returns it on request."', difficulty: 'medium' },
    { origId: 'e5f6a7b8-3c4d-4e5f-8a9b-3c4d5e6f7a15', day_number: 1, type: 'interview', num: 5, prompt: 'Why is GPS important in a delivery product, and what does it enable?', answer: "GPS provides location context.\n\nIt enables showing nearby options and supporting delivery flow in the right area.\n\nLocation relevance improves user experience and reliability.\n\nExample:\n\"Using GPS, the app can show restaurants near your current location.\"", difficulty: 'medium' },
    { origId: 'f6a7b8c9-4d5e-4f6a-8b9c-4d5e6f7a8b16', day_number: 1, type: 'interview', num: 6, prompt: 'Explain AI-driven recommendations in simple terms without going into advanced details.', answer: 'AI/ML observes user behavior like what they view and order.\n\nIt predicts what could be useful next and suggests restaurants or dishes.\n\nIn products, recommendations reduce choice overload and improve discovery.\n\nExample:\n"If you often order pizza, the app may recommend pizza places first."', difficulty: 'medium' },
    { origId: '1a2b3c4d-5e6f-4a7b-8c9d-5e6f7a8b9c17', day_number: 1, type: 'interview', num: 7, prompt: 'How does continuous improvement show up in a real app after launch?', answer: 'The team watches what users struggle with and what they use most.\n\nThen they refine features, ranking, and UI to remove friction.\n\nThis approach keeps the product competitive over time.\n\nExample:\n"Improve search results based on what users click and order."', difficulty: 'medium' },
    { origId: '2c3d4e5f-6a7b-4c8d-9e0f-6a7b8c9d0e18', day_number: 1, type: 'interview', num: 8, prompt: 'You are given a feature: "show top restaurants." How do you decide what "top" means using today\'s concepts?', answer: 'Start from the problem: help users discover good options quickly.\n\nUse signals like ratings, popularity, and availability as part of the data shown.\n\nAI/ML can help personalize, but the goal remains friction reduction.\n\nExample:\n"Top could mean high rating and frequently ordered in the user\'s area."', difficulty: 'hard' },
    { origId: '3d4e5f6a-7b8c-4d9e-8f0a-7b8c9d0e1f19', day_number: 1, type: 'interview', num: 9, prompt: 'What risks happen when you treat technology as only building screens and ignore system thinking?', answer: "You may build features that don't solve the real problem.\n\nData flow, storage, and reliability issues appear later and slow the product.\n\nIn startups and product teams, this causes rework and poor user experience.\n\nExample:\n\"A beautiful UI fails if the backend can't return accurate restaurant availability.\"", difficulty: 'hard' },
    { origId: '4e5f6a7b-8c9d-4e0f-9a1b-8c9d0e1f2a20', day_number: 1, type: 'interview', num: 10, prompt: 'Describe the three-layer architecture of a food app and how the layers work together in one user action.', answer: 'Frontend captures the action and displays UI.\n\nBackend stores and returns the needed data through requests.\n\nAI/ML improves ranking and recommendations using behavior signals.\n\nThis collaboration makes the experience fast and relevant.\n\nExample:\n"User searches â†’ backend returns matches â†’ AI helps order results â†’ UI shows them."', difficulty: 'hard' },

    // QUIZZES
    { origId: '5f6a7b8c-9d0e-4f1a-8b2c-9d0e1f2a3b21', day_number: 1, type: 'quiz', num: 1, prompt: "Which statement best describes technology from today's class?", options: ['Only writing code', 'Structured problem-solving using tools and systems', 'Only designing UI screens', 'Only using apps'], correct_answer: 'Structured problem-solving using tools and systems', answer: 'Technology focuses on solving real problems with structured systems.\n\nIt includes designing, building, and improving solutions.\n\nExample:\n"A food app reduces ordering friction using a system."', difficulty: 'easy' },
    { origId: '6a7b8c9d-0e1f-4a2b-8c3d-0e1f2a3b4c22', day_number: 1, type: 'quiz', num: 2, prompt: 'In the food app architecture, which layer mainly displays restaurant cards and search UI?', options: ['Frontend', 'Backend', 'AI/ML', 'Database'], correct_answer: 'Frontend', answer: 'Frontend is responsible for what the user sees and interacts with.\n\nIt shows cards, filters, and search results.\n\nExample:\n"Restaurant cards are part of the frontend UI."', difficulty: 'easy' },
    { origId: '7b8c9d0e-1f2a-4b3c-8d4e-1f2a3b4c5d23', day_number: 1, type: 'quiz', num: 3, prompt: 'Which layer stores restaurant data and processes search requests using APIs?', options: ['Frontend', 'Backend', 'AI/ML', 'Browser'], correct_answer: 'Backend', answer: 'Backend stores and manages core data like restaurants and menus.\n\nIt handles requests and returns results.\n\nExample:\n"Backend returns the menu when the UI requests it."', difficulty: 'easy' },
    { origId: '8c9d0e1f-2a3b-4c4d-8e5f-2a3b4c5d6e24', day_number: 1, type: 'quiz', num: 4, prompt: 'What is a tech-builder mindset mainly about?', options: ['Using more apps', 'Analyzing what problem an app solves', 'Memorizing code', 'Avoiding data'], correct_answer: 'Analyzing what problem an app solves', answer: 'A builder looks at the problem, data flow, and system behavior.\n\nThis shifts thinking from user to developer.\n\nExample:\n"What problem does food delivery solve?"', difficulty: 'medium' },
    { origId: '9d0e1f2a-3b4c-4d5e-8f6a-3b4c5d6e7f25', day_number: 1, type: 'quiz', num: 5, prompt: 'Which technology is directly connected to showing delivery near a user?', options: ['GPS', 'HTML', 'Keyboard', 'Battery'], correct_answer: 'GPS', answer: 'GPS helps identify user location.\n\nThis enables nearby options and location-aware delivery.\n\nExample:\n"GPS helps show restaurants around you."', difficulty: 'medium' },
    { origId: '0e1f2a3b-4c5d-4e6f-8a7b-4c5d6e7f8a26', day_number: 1, type: 'quiz', num: 6, prompt: 'What does AI/ML mainly do in the food app example?', options: ['Stores menus', 'Displays cards', 'Recommends and optimizes ranking', 'Creates HTML tags'], correct_answer: 'Recommends and optimizes ranking', answer: 'AI/ML analyzes behavior and suggests relevant items.\n\nIt improves discovery and ranking quality.\n\nExample:\n"Recommending restaurants based on past orders."', difficulty: 'medium' },
    { origId: '1f2a3b4c-5d6e-4f7a-8b9c-5d6e7f8a9b27', day_number: 1, type: 'quiz', num: 7, prompt: 'Which pair best matches the two major problems food delivery apps solve (as taught today)?', options: ['Gaming and streaming', 'Discovering options and reliable delivery', 'Coding and compiling', 'Typing and printing'], correct_answer: 'Discovering options and reliable delivery', answer: 'The app helps users find food choices and ensures delivery happens reliably.\n\nThis reduces real-world friction.\n\nExample:\n"Search restaurants and get food delivered."', difficulty: 'medium' },
    { origId: '2a3b4c5d-6e7f-4a8b-8c9d-6e7f8a9b0c28', day_number: 1, type: 'quiz', num: 8, prompt: 'Why is separating frontend and backend helpful for building scalable systems?', options: ['It makes code shorter only', 'It avoids repeated UI work only', 'It keeps display and data responsibilities clear', 'It removes the need for APIs'], correct_answer: 'It keeps display and data responsibilities clear', answer: 'Frontend focuses on UI and interaction.\n\nBackend focuses on storing and serving data.\n\nClear roles make systems easier to grow and maintain.\n\nExample:\n"Update restaurant data in backend, UI auto reflects it."', difficulty: 'hard' },
    { origId: '3b4c5d6e-7f8a-4b9c-8d0e-7f8a9b0c1d29', day_number: 1, type: 'quiz', num: 9, prompt: 'Which statement best represents "continuous improvement" in technology?', options: ['Build once and never change', 'Only add new screens', 'Keep updating based on data and feedback', 'Avoid measuring user behavior'], correct_answer: 'Keep updating based on data and feedback', answer: 'Real apps improve after launch using feedback and usage signals.\n\nThis reduces friction over time.\n\nExample:\n"Improve search ranking based on orders."', difficulty: 'hard' },
    { origId: '4c5d6e7f-8a9b-4c0d-8e1f-8a9b0c1d2e30', day_number: 1, type: 'quiz', num: 10, prompt: 'Which flow matches what happens when a user searches in an app (high level)?', options: ['Backend shows UI then frontend stores data', 'Frontend sends request, backend returns data, UI updates', 'AI stores images, GPS runs CSS', 'Database displays cards directly'], correct_answer: 'Frontend sends request, backend returns data, UI updates', answer: 'User action starts in the UI.\n\nBackend processes and returns results.\n\nUI updates with returned data.\n\nExample:\n"Type \'pizza\' â†’ get results â†’ show restaurant cards."', difficulty: 'hard' },
];

// â”€â”€â”€ DAY 6 DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const day6 = [
    // SCENARIOS
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334401', day_number: 6, type: 'scenario', num: 1, prompt: 'You are given a website mockup and asked to use a GenAI tool to generate HTML and CSS. The generated layout does not match spacing and alignment accurately. How would you refine your prompt and workflow to improve output quality?', answer: "Generative AI produces output based on clarity and specificity of the prompt.\n\nIf spacing and alignment are inaccurate, the prompt likely lacks detailed constraints such as margin values, padding structure, layout type, or alignment instructions.\n\nA structured workflow involves:\nâ€¢ Breaking the mockup into sections (header, hero, features, footer)\nâ€¢ Describing layout systems explicitly (flexbox, grid)\nâ€¢ Mentioning spacing values and typography expectations\nâ€¢ Asking for semantic HTML structure\n\nIn industry, frontend engineers iteratively refine prompts just like debugging code.\n\nFor example, instead of saying 'Create a hero section', a better prompt would be 'Create a full-width hero section using flexbox, center-aligned content, 80px vertical padding'.", difficulty: 'easy' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334402', day_number: 6, type: 'scenario', num: 2, prompt: 'An AI tool generates HTML and CSS in a single combined file, but your team requires separate files. How would you handle this in a production-ready workflow?', answer: 'In professional frontend development, separation of concerns is important.\n\nHTML handles structure while CSS handles presentation. Mixing both reduces maintainability and scalability.\n\nThe correct workflow is:\nâ€¢ Extract CSS into an external stylesheet\nâ€¢ Link it using the link tag in HTML\nâ€¢ Verify no inline styling remains\nâ€¢ Ensure folder structure follows project standards\n\nThis improves caching, reusability, and collaboration efficiency.\n\nFor example, moving style rules into styles.css allows multiple HTML pages to reuse the same design system.', difficulty: 'easy' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334403', day_number: 6, type: 'scenario', num: 3, prompt: 'You used GenAI to generate a responsive layout, but it breaks on smaller mobile screens. What steps would you take to debug and fix responsiveness?', answer: 'Responsive issues typically arise due to missing media queries or improper layout structure.\n\nThe debugging steps include:\nâ€¢ Inspecting layout using browser developer tools\nâ€¢ Checking viewport meta tag presence\nâ€¢ Reviewing CSS for fixed widths instead of flexible units\nâ€¢ Adding media queries for breakpoints\n\nIn real-world frontend development, responsiveness must be tested across multiple device sizes.\n\nFor example, replacing fixed width: 1200px with max-width: 100% and adding a mobile breakpoint at 768px resolves overflow issues.', difficulty: 'hard' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334404', day_number: 6, type: 'scenario', num: 4, prompt: 'During a mini assignment, the AI-generated website looks visually correct but lacks animations. How would you enhance it while maintaining performance?', answer: 'Animations should enhance user experience without harming performance.\n\nUse CSS transitions and transform properties instead of heavy JavaScript.\n\nAvoid animating expensive properties like width or height; prefer transform and opacity.\n\nTest performance using browser tools to ensure no frame drops.\n\nFor example, adding a hover effect using transform: scale(1.05) with transition: 0.3s improves interactivity without affecting layout performance.', difficulty: 'medium' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334405', day_number: 6, type: 'scenario', num: 5, prompt: 'You are asked to strictly follow a mockup design including fonts and color themes, but AI output uses default styling. How do you ensure design accuracy?', answer: "Design accuracy depends on prompt clarity and manual verification.\n\nSpecify exact font families, font sizes, hex color codes, spacing values, and layout behavior in the prompt.\n\nCross-check generated code with the mockup visually and adjust CSS manually if required.\n\nIndustry teams combine AI generation with human validation for pixel-perfect results.\n\nFor example, specifying 'Use #FF5733 for buttons and Poppins font with 600 weight' ensures consistency with the design system.", difficulty: 'medium' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334406', day_number: 6, type: 'scenario', num: 6, prompt: 'Your AI-generated HTML uses non-semantic tags everywhere. Why is this a problem and how would you correct it?', answer: 'Non-semantic structure reduces accessibility, readability, and maintainability.\n\nSemantic tags like header, section, article, and footer improve structure clarity.\n\nThey also help search engines and assistive technologies interpret content correctly.\n\nIn production environments, semantic HTML improves SEO and long-term scalability.\n\nFor example, replacing multiple div tags with section and nav improves document hierarchy.', difficulty: 'hard' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334407', day_number: 6, type: 'scenario', num: 7, prompt: 'While generating code using GenAI, you receive inconsistent outputs for similar prompts. How would you standardize results for a team workflow?', answer: 'Consistency requires structured prompt templates.\n\nCreate predefined prompt formats including layout, responsiveness rules, semantic structure, and styling standards.\n\nDocument guidelines so every developer uses the same prompt structure.\n\nThis improves collaboration and reduces rework.\n\nFor example, maintaining a shared prompt template for hero sections ensures uniform design output.', difficulty: 'hard' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334408', day_number: 6, type: 'scenario', num: 8, prompt: 'You are using Unsplash images in your mini assignment. What considerations should you keep in mind when integrating them into the layout?', answer: 'Images must be responsive and optimized.\n\nUse proper alt attributes for accessibility.\n\nEnsure image dimensions match layout design to avoid distortion.\n\nOptimize file sizes to improve loading speed.\n\nFor example, using max-width: 100% and descriptive alt text ensures both responsiveness and accessibility.', difficulty: 'easy' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334409', day_number: 6, type: 'scenario', num: 9, prompt: 'If AI generates clean code but includes redundant CSS rules, how would you optimize it before deployment?', answer: 'Redundant CSS increases file size and reduces maintainability.\n\nReview styles for duplication and merge common properties.\n\nUse grouping selectors where appropriate.\n\nMinimize unused styles to improve performance.\n\nFor example, combining identical button styles into a single class reduces repetition.', difficulty: 'medium' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334410', day_number: 6, type: 'scenario', num: 10, prompt: 'A student relies entirely on AI without understanding HTML and CSS fundamentals. What risks does this create in real-world development?', answer: 'Without core knowledge, debugging becomes difficult.\n\nDevelopers may not detect structural errors or performance issues.\n\nUnderstanding fundamentals ensures correct prompt writing and code validation.\n\nIn industry, AI assists but does not replace foundational skills.\n\nFor example, a developer unaware of box model concepts may fail to fix layout overflow issues.', difficulty: 'easy' },

    // INTERVIEWS
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334411', day_number: 6, type: 'interview', num: 1, prompt: 'How would you explain the role of Generative AI in modern frontend development to a beginner developer?', answer: 'Generative AI assists developers by generating code based on natural language prompts.\n\nIt speeds up prototyping and layout creation.\n\nHowever, it depends on strong understanding of HTML and CSS fundamentals.\n\nIn startups, AI reduces repetitive coding time and accelerates MVP development.\n\nFor example, describing a landing page structure can instantly generate base HTML layout.', difficulty: 'easy' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334412', day_number: 6, type: 'interview', num: 2, prompt: 'When using AI to generate frontend code, how do you ensure maintainability and scalability?', answer: 'Maintainability requires structured HTML and modular CSS.\n\nAvoid inline styles and ensure consistent class naming.\n\nReview generated code before integration into larger systems.\n\nIndustry projects prioritize readability and reusability.\n\nFor example, organizing CSS into reusable components improves scalability.', difficulty: 'medium' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334413', day_number: 6, type: 'interview', num: 3, prompt: 'What skills should a developer master before effectively using GenAI tools for web development?', answer: 'A developer must understand HTML structure, CSS layout systems, and responsive design principles.\n\nPrompt writing clarity is also essential.\n\nFundamentals enable proper evaluation of generated output.\n\nIn professional teams, AI is used by skilled developers, not as a replacement.\n\nFor example, knowing flexbox allows refinement of AI-generated layouts.', difficulty: 'easy' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334414', day_number: 6, type: 'interview', num: 4, prompt: 'How does prompt clarity impact the quality of AI-generated HTML and CSS?', answer: 'AI models respond directly to instruction specificity.\n\nClear constraints reduce ambiguity and improve design accuracy.\n\nVague prompts result in inconsistent outputs.\n\nIn industry, structured prompts act like requirement documents.\n\nFor example, specifying breakpoints ensures correct responsive behavior.', difficulty: 'medium' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334415', day_number: 6, type: 'interview', num: 5, prompt: 'What are the limitations of relying solely on GenAI for frontend development?', answer: 'AI may generate non-optimized or non-semantic code.\n\nIt may not fully understand complex design systems.\n\nHuman review is essential for accessibility and performance validation.\n\nProduction systems require accountability beyond automation.\n\nFor example, AI might ignore accessibility best practices without explicit instruction.', difficulty: 'hard' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334416', day_number: 6, type: 'interview', num: 6, prompt: 'How can GenAI improve productivity in startup environments?', answer: 'Startups require rapid iteration and MVP development.\n\nGenAI accelerates layout creation and reduces boilerplate coding.\n\nIt allows developers to focus on business logic and innovation.\n\nHowever, review and refinement remain critical.\n\nFor example, generating a landing page template in minutes speeds up product validation.', difficulty: 'medium' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334417', day_number: 6, type: 'interview', num: 7, prompt: 'What practices would you implement to validate AI-generated frontend code before deployment?', answer: 'Validation includes testing responsiveness, semantic structure, and accessibility.\n\nCode review ensures clean formatting and removal of redundancy.\n\nPerformance tools verify loading speed and animation smoothness.\n\nProfessional teams never deploy unreviewed AI code.\n\nFor example, running Lighthouse audits ensures optimization compliance.', difficulty: 'hard' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334418', day_number: 6, type: 'interview', num: 8, prompt: 'Explain why hands-on practice is essential after learning GenAI concepts.', answer: 'Concepts build understanding, but implementation builds skill.\n\nHands-on practice exposes real-world issues like spacing mismatches and responsiveness bugs.\n\nPractical work strengthens prompt refinement ability.\n\nIndustry readiness depends on applied experience.\n\nFor example, converting a mockup into a live site improves frontend confidence.', difficulty: 'easy' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334419', day_number: 6, type: 'interview', num: 9, prompt: 'How would you balance automation and manual coding in frontend projects?', answer: 'Automation accelerates repetitive tasks.\n\nManual coding ensures precision and optimization.\n\nA hybrid approach maintains speed without sacrificing quality.\n\nProfessional teams treat AI as an assistant, not a replacement.\n\nFor example, generate layout with AI but manually fine-tune animations.', difficulty: 'medium' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334420', day_number: 6, type: 'interview', num: 10, prompt: 'Discuss how GenAI can assist in rapid prototyping but still require developer oversight.', answer: 'GenAI quickly generates structural layouts from prompts.\n\nHowever, it lacks contextual product awareness.\n\nDeveloper oversight ensures business alignment and technical standards.\n\nIn startups, speed matters but quality cannot be ignored.\n\nFor example, AI can create a UI skeleton, but developers must ensure brand consistency.', difficulty: 'hard' },

    // QUIZZES
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334421', day_number: 6, type: 'quiz', num: 1, prompt: 'Which of the following best describes Generative AI in web development?', options: ['It replaces all frontend developers', 'It generates code based on prompts', 'It only designs graphics', 'It manages servers automatically'], correct_answer: 'It generates code based on prompts', answer: 'Generative AI produces code such as HTML and CSS based on structured natural language prompts.\n\nIt assists developers but does not replace foundational knowledge.\n\nIn industry, it speeds up development workflows.\n\nFor example, describing a layout can generate structured HTML instantly.', difficulty: 'easy' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334422', day_number: 6, type: 'quiz', num: 2, prompt: 'Why should HTML and CSS fundamentals be understood before using AI tools?', options: ['To avoid writing prompts', 'To properly validate and refine generated code', 'Because AI does not generate CSS', 'To replace AI completely'], correct_answer: 'To properly validate and refine generated code', answer: 'Understanding fundamentals allows developers to review, debug, and improve AI-generated output.\n\nWithout this knowledge, errors may go unnoticed.\n\nProfessional teams rely on expertise for quality assurance.\n\nFor example, recognizing incorrect box model usage requires CSS knowledge.', difficulty: 'easy' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334423', day_number: 6, type: 'quiz', num: 3, prompt: 'Which practice improves AI output accuracy?', options: ['Using vague prompts', 'Ignoring layout details', 'Writing clear and structured prompts', 'Avoiding design specifications'], correct_answer: 'Writing clear and structured prompts', answer: 'Clear prompts reduce ambiguity and guide AI toward expected results.\n\nSpecific layout and styling instructions improve consistency.\n\nIn production, structured prompts act as mini requirement documents.\n\nFor example, specifying padding and font sizes ensures design precision.', difficulty: 'medium' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334424', day_number: 6, type: 'quiz', num: 4, prompt: 'Why should CSS animations prefer transform over width changes?', options: ['Transform improves performance', 'Width cannot be animated', 'Transform removes CSS need', 'Width animation is mandatory'], correct_answer: 'Transform improves performance', answer: 'Animating transform properties leverages GPU acceleration and avoids layout recalculations.\n\nWidth changes trigger reflow and reduce performance.\n\nFrontend performance optimization is critical in production systems.\n\nFor example, scaling a button using transform performs smoother than resizing width.', difficulty: 'medium' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334425', day_number: 6, type: 'quiz', num: 5, prompt: 'What ensures responsiveness in generated layouts?', options: ['Fixed pixel widths only', 'Media queries and flexible units', 'Inline styling everywhere', 'Ignoring mobile views'], correct_answer: 'Media queries and flexible units', answer: 'Responsive design depends on flexible units and breakpoint-based styling.\n\nMedia queries adjust layout for different screen sizes.\n\nIndustry standards require mobile-first thinking.\n\nFor example, using max-width and breakpoints ensures layout adapts to smaller screens.', difficulty: 'medium' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334426', day_number: 6, type: 'quiz', num: 6, prompt: 'Why is separating HTML and CSS considered best practice?', options: ['Improves maintainability', 'Reduces file size always', 'Eliminates responsiveness', 'Prevents animations'], correct_answer: 'Improves maintainability', answer: 'Separating structure and styling supports clean architecture.\n\nIt enables reusability and easier debugging.\n\nProduction systems follow separation of concerns principle.\n\nFor example, updating a theme requires editing only the CSS file.', difficulty: 'easy' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334427', day_number: 6, type: 'quiz', num: 7, prompt: 'What is a risk of over-relying on AI in frontend development?', options: ['Faster delivery', 'Improved productivity', 'Lack of debugging capability', 'Better animations'], correct_answer: 'Lack of debugging capability', answer: 'Without understanding fundamentals, developers struggle to debug issues.\n\nAI-generated code may contain hidden inefficiencies.\n\nProfessional development requires analytical skills beyond automation.\n\nFor example, not understanding layout overflow makes fixing UI bugs difficult.', difficulty: 'hard' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334428', day_number: 6, type: 'quiz', num: 8, prompt: 'Why is hands-on practice important after learning GenAI concepts?', options: ['To avoid using AI', 'To convert theory into applied skill', 'To eliminate prompts', 'To remove CSS usage'], correct_answer: 'To convert theory into applied skill', answer: 'Practical implementation reveals real-world challenges.\n\nIt improves prompt writing and debugging ability.\n\nIndustry readiness depends on applied knowledge.\n\nFor example, implementing a mockup exposes spacing alignment issues.', difficulty: 'easy' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334429', day_number: 6, type: 'quiz', num: 9, prompt: 'What improves consistency when teams use GenAI tools?', options: ['Random prompt writing', 'Shared prompt templates', 'Ignoring standards', 'Different styling rules per developer'], correct_answer: 'Shared prompt templates', answer: 'Shared prompt templates standardize output quality.\n\nThey reduce inconsistency and speed collaboration.\n\nProfessional teams document AI usage standards.\n\nFor example, predefined hero section prompts maintain layout consistency.', difficulty: 'hard' },
    { origId: 'c1a1f6b2-8d2e-4a9f-9c1a-001122334430', day_number: 6, type: 'quiz', num: 10, prompt: 'Which activity strengthens understanding of GenAI-assisted development the most?', options: ['Copying code blindly', 'Ignoring design guidelines', 'Implementing a mini project with mockup matching', 'Avoiding responsiveness testing'], correct_answer: 'Implementing a mini project with mockup matching', answer: 'Mini projects reinforce concept clarity through implementation.\n\nThey require prompt writing, debugging, and design validation.\n\nIndustry hiring focuses on applied skill demonstration.\n\nFor example, building a colorful responsive website improves frontend competence.', difficulty: 'hard' },
];

// â”€â”€â”€ Build payload â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function buildPayload(records) {
    return records.map(r => {
        const id = deterministicId(`${r.origId}-day${r.day_number}-${r.type}-${r.num}`);
        return {
            id,
            day_number: r.day_number,
            type: r.type,
            prompt: r.prompt,
            options: r.options || null,
            correct_answer: r.correct_answer || r.answer || null,
            difficulty: r.difficulty || null,
            active: true,
            created_at: '2026-02-25T12:15:00+00:00',
        };
    });
}

async function main() {
    const allRecords = [...buildPayload(day1), ...buildPayload(day6)];
    console.log(`\nInserting ${allRecords.length} records (Day 1: 30, Day 6: 30)...`);

    const BATCH = 60;
    let inserted = 0, errors = 0;

    for (let i = 0; i < allRecords.length; i += BATCH) {
        const batch = allRecords.slice(i, i + BATCH);
        const { error } = await supabase.from('questions').upsert(batch, { onConflict: 'id' });
        if (error) {
            console.error(`âŒ Batch ${Math.floor(i / BATCH) + 1} failed:`, error.message);
            errors += batch.length;
        } else {
            inserted += batch.length;
            console.log(`   âœ“ Batch ${Math.floor(i / BATCH) + 1}: ${batch.length} rows inserted`);
        }
    }

    console.log(`\nðŸŽ¯ Done! Inserted: ${inserted}, Errors: ${errors}`);
}

main().catch(console.error);
